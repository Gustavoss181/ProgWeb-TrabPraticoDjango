{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{% block title %}{% endblock %}</title>
	<!-- Custom CSS -->
	<link rel="stylesheet" href="{% static 'css/style.css' %}">
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
	<!-- Header -->
	<header class="bg-dark text-white py-3">
		<div class="container d-flex justify-content-between align-items-center">
			<h1 class="h3"><a href="/" class="text-white text-decoration-none">ðŸŽµ Loja de Instrumentos</a></h1>
			<form class="d-flex position-relative" method="get" action="{% url 'loja:home' %}">
				<input class="form-control me-2" type="search" id="barra-pesquisa" name="q"
					placeholder="Buscar produtos..." value="{{ query|default:'' }}" aria-label="Search"
					autocomplete="off">
				<button class="btn btn-outline-light" type="submit">Buscar</button>
				<ul id="dropdown-resultados" class="dropdown-menu custom-dropdown-menu"
					style="display: none; position: absolute; top: 100%; left: 0; width: 100%; z-index: 1000;">
					<!-- Resultados serÃ£o adicionados aqui via JavaScript -->
				</ul>
			</form>
			<a href="/admin/" class="btn btn-light">Login</a>
		</div>
	</header>

	<!-- Navigation Bar -->
	<nav class="navbar bg-dark py-2">
		<div class="container">
			<!-- Dropdowns Ã  esquerda -->
			<div class="d-flex justify-content-start">
				<!-- Dropdown para Corda -->
				<div class="dropdown me-3">
					<a class="nav-link text-white dropdown-toggle" href="#" role="button" id="dropdownCorda"
						data-bs-toggle="dropdown" aria-expanded="false">
						Instrumentos de Corda
					</a>
					<ul class="dropdown-menu rounded-0" aria-labelledby="dropdownCorda">
						{% for tipo in tipos_corda %}
						<li><a class="dropdown-item rounded-0" href="{% url 'loja:home' %}?tipo={{ tipo }}">{{ tipo
								}}</a>
						</li>
						{% endfor %}
					</ul>
				</div>

				<!-- Dropdown para Sopro -->
				<div class="dropdown me-3">
					<a class="nav-link text-white dropdown-toggle" href="#" role="button" id="dropdownSopro"
						data-bs-toggle="dropdown" aria-expanded="false">
						Instrumentos de Sopro
					</a>
					<ul class="dropdown-menu rounded-0" aria-labelledby="dropdownSopro">
						{% for tipo in tipos_sopro %}
						<li><a class="dropdown-item rounded-0" href="{% url 'loja:home' %}?tipo={{ tipo }}">{{ tipo
								}}</a>
						</li>
						{% endfor %}
					</ul>
				</div>

				<!-- Dropdown para PercussÃ£o -->
				<div class="dropdown">
					<a class="nav-link text-white dropdown-toggle" href="#" role="button" id="dropdownPercussao"
						data-bs-toggle="dropdown" aria-expanded="false">
						Instrumentos de PercussÃ£o
					</a>
					<ul class="dropdown-menu rounded-0" aria-labelledby="dropdownPercussao">
						{% for tipo in tipos_percussao %}
						<li><a class="dropdown-item rounded-0" href="{% url 'loja:home' %}?tipo={{ tipo }}">{{ tipo
								}}</a>
						</li>
						{% endfor %}
					</ul>
				</div>
			</div>

			<!-- BotÃ£o do Carrinho Ã  direita -->
			<div class="d-flex justify-content-end">
				<a href="{% url 'ver_carrinho' %}" class="btn btn-outline-light position-relative">
					<i class="bi bi-cart"></i> Carrinho
					{% if request.session.carrinho %}
					<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
						{{ request.session.carrinho|length }}
						<span class="visually-hidden">itens no carrinho</span>
					</span>
					{% endif %}
				</a>
			</div>
		</div>
	</nav>

	<!-- Main Content -->
	<main class="container my-5">
		{% block content %}{% endblock %}
	</main>

	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
	<!-- My JS -->
	<script src="{% static 'js/script.js' %}"></script>
</body>

</html>